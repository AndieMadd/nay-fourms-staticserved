(function(t){function e(e){for(var o,i,u=e[0],a=e[1],c=e[2],m=0,f=[];m<u.length;m++)i=u[m],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&f.push(s[i][0]),s[i]=0;for(o in a)Object.prototype.hasOwnProperty.call(a,o)&&(t[o]=a[o]);l&&l(e);while(f.length)f.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],o=!0,u=1;u<n.length;u++){var a=n[u];0!==s[a]&&(o=!1)}o&&(r.splice(e--,1),t=i(i.s=n[0]))}return t}var o={},s={app:0},r=[];function i(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=o,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],a=u.push.bind(u);u.push=e,u=u.slice();for(var c=0;c<u.length;c++)e(u[c]);var l=a;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"019d":function(t,e,n){"use strict";n("9763")},"034f":function(t,e,n){"use strict";n("85ec")},"19a8":function(t,e,n){"use strict";n("781c")},"2b85":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"nav"},[n("div",{staticClass:"nav-item homeButton"},[n("button",{on:{click:function(e){return t.setPage("Home")}}},[t._v("Home")])]),this.$store.state.isLoggedIn?n("div",{staticClass:"nav-item userDetails"},[n("button",{on:{click:t.logout}},[t._v("Log Out")]),n("p",[t._v(t._s(this.$store.state.currentUserName))]),n("img",{attrs:{src:this.$store.state.currentUserPFP,alt:""}})]):n("div",{staticClass:"nav-item loginButton"},[n("button",{on:{click:function(e){return t.setPage("Login")}}},[t._v("Login")])])]),"Home"==this.$store.getters.pageState?n("div",[n("Home")],1):"Login"==this.$store.getters.pageState?n("div",[n("Login")],1):"forum"==this.$store.getters.pageState?n("div",[n("Forum")],1):t._e()])},r=[],i=(n("d3b7"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._m(0),n("div",{staticClass:"forums-wrapper"},t._l(t.forums,(function(t){return n("div",{key:t.id,staticClass:"forumLink"},[n("forumLink",{attrs:{forum:t}})],1)})),0)])}),u=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"titles"},[n("h1",[t._v("Home")]),n("h2",[t._v("Available Forums")])])}],a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("button",{on:{click:t.findForum}},[t._v(t._s(t.forum.token)+" : "+t._s(t.forum.title))])])},c=[],l=n("53ca"),m={name:"forumLink",props:{forum:Object},methods:{findForum:function(){var t=this;fetch("/api/forum/".concat(this.forum.token),{method:"POST"}).then((function(t){return t.json()})).then((function(e){console.log(Object(l["a"])(e)),t.$store.dispatch("setCurrentForumData",[t.forum.token,e])}))}}},f=m,d=(n("5b7e"),n("2877")),p=Object(d["a"])(f,a,c,!1,null,"15ed3299",null),g=p.exports,v={name:"Home",methods:{switchToLogin:function(){this.$store.commit("switchPage","login")}},data:function(){return{forums:[]}},mounted:function(){var t=this;setInterval((function(){t.forums=t.$store.state.availableForums}),0)},components:{forumLink:g}},h=v,P=(n("6218"),Object(d["a"])(h,i,u,!1,null,"05ae5b12",null)),b=P.exports,_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login"},[n("GoogleLogin",{attrs:{params:t.params,onSuccess:t.onSuccess,onFailure:t.onFailure}},[t._v("Login")])],1)},C=[],w=n("e571"),F={name:"Login",components:{GoogleLogin:w["GoogleLogin"]},data:function(){return{params:{client_id:"897864354621-rqs8e9er3647tn3g6d2n0ecmulfkn28f.apps.googleusercontent.com"}}},methods:{onSuccess:function(t){var e=this,n=t.getAuthResponse().id_token,o={token:n};fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).then((function(t){return t.json()})).then((function(t){e.$store.commit("userLoggedIn",t),e.$store.commit("switchPage","Home")}))},onFaliure:function(){console.log("fail")}}},S=F,$=Object(d["a"])(S,_,C,!1,null,"4e8bf26d",null),O=$.exports,y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[1==t.isPosting?n("div",[n("postcover")],1):t._e(),n("h1",[t._v("Forums")]),n("h4",[t._v(t._s(t.name))]),t._l(t.posts,(function(t){return n("div",{key:t.id},[n("postComponent",{attrs:{title:t.title,content:t.content,user:t.name,timeCreated:t.timeCreated}})],1)})),n("div",{staticClass:"addPost"},[this.$store.state.isLoggedIn?n("button",{on:{click:t.addPost}},[t._v(" Ask Something! ")]):n("div",[n("p",[t._v("Please Log In To Add A Post!")])])])],2)},j=[],k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"darkened"},[n("div",{staticClass:"centered"},[n("div",{staticClass:"inputs"},[n("label",{attrs:{for:"postTitle"}},[t._v(" Post Title "),n("br"),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newPostTitle,expression:"newPostTitle"}],attrs:{type:"text",name:"postTitle",id:"postTitle"},domProps:{value:t.newPostTitle},on:{input:function(e){e.target.composing||(t.newPostTitle=e.target.value)}}})]),n("br"),n("label",{attrs:{for:"postContent"}},[t._v(" Post content"),n("br"),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newPostContent,expression:"newPostContent"}],staticStyle:{resize:"none"},attrs:{name:"postContent",id:"postContent",cols:"24",rows:"8"},domProps:{value:t.newPostContent},on:{input:function(e){e.target.composing||(t.newPostContent=e.target.value)}}})]),n("br")]),n("div",{staticClass:"buttons"},[n("button",{staticClass:"submit",on:{click:t.submit}},[t._v("Submit")]),n("button",{staticClass:"cancel",on:{click:t.cancel}},[t._v("Cancel")])])])])])},L=[],T=n("1da1"),x=(n("96cf"),{name:"postcover",data:function(){return{currentForum:this.$store.state.currentForum,newPostTitle:"",newPostContent:""}},methods:{cancel:function(){this.$store.commit("setPostStatus",!1)},submit:function(){var t=this;return Object(T["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n={title:t.newPostTitle,content:t.newPostContent,forum:t.currentForum},fetch("/api/addPost",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(n)}).then((function(t){return t.json})).then((function(e){console.log(e),t.$store.dispatch("updateCurrentForum"),t.$store.commit("setPostStatus",!1)}));case 2:case"end":return e.stop()}}),e)})))()}}}),A=x,H=(n("019d"),Object(d["a"])(A,k,L,!1,null,"46052ffa",null)),I=H.exports,N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"postBlock"},[n("div",{staticClass:"postContent"},[n("h3",[t._v(t._s(t.title)+" -- "+t._s(t.user)+" ("+t._s(t.getDate(t.timeCreated))+")")]),n("p",[t._v(t._s(t.content))])])])])},E=[],U=(n("a9e3"),{name:"postComponent",props:{title:String,content:String,user:String,timeCreated:Number},methods:{getDate:function(t){return new Date(Number(t)).toLocaleDateString()}}}),D=U,J=(n("19a8"),Object(d["a"])(D,N,E,!1,null,"abeb35ba",null)),M=J.exports,B={name:"Forum",data:function(){return{name:this.$store.state.currentForum}},methods:{addPost:function(){this.$store.commit("setPostStatus",!0)}},computed:{isPosting:function(){return this.$store.state.isAddingPost},posts:function(){return this.$store.state.forumPosts}},components:{postcover:I,postComponent:M}},G=B,R=(n("9f77"),Object(d["a"])(G,y,j,!1,null,"36df07ee",null)),q=R.exports,z={name:"App",components:{Home:b,Login:O,Forum:q},mounted:function(){var t=this;fetch("/api/forums",{method:"POST"}).then((function(t){return t.json()})).then((function(e){t.$store.commit("setForums",e)})).catch((function(t){console.log(t)}))},methods:{setPage:function(t){this.$store.commit("switchPage",t)},logout:function(){this.$store.commit("logout")}}},K=z,Q=(n("034f"),Object(d["a"])(K,s,r,!1,null,null,null)),V=Q.exports,W=(n("b0c0"),n("2f62"));o["a"].use(W["a"]);var X=new W["a"].Store({state:{allPages:["Home","Login"],pageState:"Home",availableForums:[],currentForum:"",forumPosts:[],isAddingPost:!1,isLoggedIn:!1,currentUserName:"",currentUserPFP:""},mutations:{switchPage:function(t,e){t.pageState=e},setForums:function(t,e){t.availableForums=e},setForumPosts:function(t,e){t.forumPosts=e},setCurrentForum:function(t,e){t.currentForum=e},setPostStatus:function(t,e){t.isAddingPost=e},userLoggedIn:function(t,e){t.isLoggedIn=!0,t.currentUserName=e["name"],t.currentUserPFP=e["pfp"]},logout:function(t){t.isLoggedIn=!1,t.currentUserName="",t.currentUserPFP="",window.location.href="/"}},actions:{setCurrentForumData:function(t,e){var n=t.commit;n("switchPage","forum"),n("setCurrentForum",e[0]),n("setForumPosts",e[1])},updateCurrentForum:function(t){var e=t.commit;fetch("/api/forum/".concat(this.state.currentForum),{method:"POST"}).then((function(t){return t.json()})).then((function(t){console.log(t),e("switchPage","forum"),e("setForumPosts",t)}))}},modules:{},getters:{pageState:function(t){return t.pageState},forums:function(t){return t.availableForums},getIsPosting:function(t){return t.isAddingPost}}});o["a"].config.productionTip=!1,o["a"].config.devtools=!0,new o["a"]({store:X,render:function(t){return t(V)}}).$mount("#app")},"5b7e":function(t,e,n){"use strict";n("e3d0")},6218:function(t,e,n){"use strict";n("2b85")},"781c":function(t,e,n){},"7ae5":function(t,e,n){},"85ec":function(t,e,n){},9763:function(t,e,n){},"9f77":function(t,e,n){"use strict";n("7ae5")},e3d0:function(t,e,n){}});
//# sourceMappingURL=app.3ca84ba2.js.map